<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Checkinstall | massat log]]></title>
  <link href="http://massat.github.io/blog/categories/checkinstall/atom.xml" rel="self"/>
  <link href="http://massat.github.io/"/>
  <updated>2016-03-21T23:27:19+09:00</updated>
  <id>http://massat.github.io/</id>
  <author>
    <name><![CDATA[Masato Hirai a.k.a. massat]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[64bit版Amazon AMIにcheckinstallをインストールする]]></title>
    <link href="http://massat.github.io/blog/2013/02/16/install-checkinstall-on-amazon-ami-64bit/"/>
    <updated>2013-02-16T22:18:00+09:00</updated>
    <id>http://massat.github.io/blog/2013/02/16/install-checkinstall-on-amazon-ami-64bit</id>
    <content type="html"><![CDATA[<p>64bit環境でのcheckinstallのインストール手順をすぐ忘れるのでメモ</p>

<!-- more -->


<h1>準備</h1>

<p>```sh</p>

<h1>yum -y install git make gettext gcc rpm-build</h1>

<h1>cd /usr/local/src/</h1>

<h1>git clone <a href="http://checkinstall.izto.org/checkinstall.git">http://checkinstall.izto.org/checkinstall.git</a></h1>

<h1>cd checkinstall/</h1>

<p>```</p>

<h1>64bit向けにpatchをあてる</h1>

<p><a href="https://gist.github.com/massat/4967004">これらのpatch</a>をあてる</p>

<p>```sh</p>

<h1>curl <a href="https://gist.github.com/massat/4967004/raw/0a485150b270cb9e9397d1040963a627a86436e2/Makefile.patch">https://gist.github.com/massat/4967004/raw/0a485150b270cb9e9397d1040963a627a86436e2/Makefile.patch</a> | patch -u Makefile</h1>

<h1>curl <a href="https://gist.github.com/massat/4967004/raw/2e447f2a7519337ca8d15a80e0bad31871b39eb7/checkinstallrc-dist.patch">https://gist.github.com/massat/4967004/raw/2e447f2a7519337ca8d15a80e0bad31871b39eb7/checkinstallrc-dist.patch</a> | patch -u checkinstallrc-dist</h1>

<h1>curl <a href="https://gist.github.com/massat/4967004/raw/bb87f7ee31d0758e5cec9c8d430215739428ecc1/installwatch+Makefile.patch">https://gist.github.com/massat/4967004/raw/bb87f7ee31d0758e5cec9c8d430215739428ecc1/installwatch+Makefile.patch</a> | patch -u installwatch/Makefile</h1>

<p>```</p>

<h1>checkinstallをRPM化</h1>

<p>```sh</p>

<h1>mkdir -p ~/rpmbuild/SOURCES</h1>

<h1>make</h1>

<h1>make install</h1>

<h1>checkinstall</h1>

<p>```</p>

<p>いくつか質問される。パッケージを選ぶ質問には"R"(rpm)を入力。その他はReturnのみでOK。</p>

<p>```sh</p>

<hr />

<p> Done. The new package has been saved to</p>

<p> /root/rpmbuild/RPMS/x86_64/checkinstall-20130216-1.x86_64.rpm
 You can install it in your system anytime using:</p>

<pre><code>   rpm -i checkinstall-20130216-1.x86_64.rpm
</code></pre>

<hr />

<h1>rpm -ivh /root/rpmbuild/RPMS/x86_64/checkinstall-20130216-1.x86_64.rpm</h1>

<p>```</p>

<p>インストールを確認</p>

<p>```sh</p>

<h1>rpm -qi checkinstall</h1>

<p>Name        : checkinstall                 Relocations: (not relocatable)
Version     : 20130216                          Vendor: (none)
Release     : 1                             Build Date: Sat 16 Feb 2013 02:13:02 PM UTC
Install Date: Sat 16 Feb 2013 02:18:34 PM UTC      Build Host: ip-10-152-103-196.ap-northeast-1.compute.internal
Group       : Applications/System           Source RPM: checkinstall-20130216-1.src.rpm
Size        : 453850                           License: GPL
Signature   : (none)
Packager    : checkinstall-1.6.3
Summary     : CheckInstall installations tracker, version 1.6.2
Description :
CheckInstall installations tracker, version 1.6.2</p>

<p>CheckInstall  keeps  track of all the files created  or
modified  by your installation  script  (&ldquo;make install&rdquo;
&ldquo;make install_modules&rdquo;,  &ldquo;setup&rdquo;,   etc),   builds    a
standard   binary   package and  installs  it  in  your
system giving you the ability to uninstall it with your
distribution&rsquo;s  standard package management  utilities.
```</p>
]]></content>
  </entry>
  
</feed>
